/*
 * ************************************************************************************************
 *  Copyright 2016-2018 Qualcomm Technologies International, Ltd.                                 *
 *  Â© 2020-2022 Qualcomm Technologies, Inc. and/or its subsidiaries. All rights reserved.         *
 * ************************************************************************************************
 */

plugins {
    id 'com.android.library'
}

// get lib version
def app_version = getProperties('version.properties')
def version_code = app_version['VERSION_CODE'].toInteger()
def version_name = app_version['VERSION_MAJOR'] + "." + app_version['VERSION_MINOR'] + "." + app_version['VERSION_CODE']

android {
    compileSdkVersion 33

    namespace 'com.qualcomm.qti.libraries.upgrade'

    defaultConfig {
        minSdkVersion 19
        targetSdkVersion 33
        versionCode version_code
        versionName version_name
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_11
        targetCompatibility JavaVersion.VERSION_11
    }

    buildTypes {
        release {
            minifyEnabled true
        }
    }
}

dependencies {
    implementation "androidx.annotation:annotation:1.5.0"
}

/**
 * Load the given file as properties.
 *
 * @return a Properties object which contains the properties from the given file path.
 */
def getProperties(String filePath) {
    def propertiesFile = file(filePath)

    if (propertiesFile.canRead()) {
        Properties properties = new Properties()
        FileInputStream file = new FileInputStream(propertiesFile)
        properties.load(file)
        file.close()
        return properties
    } else {
        throw new GradleException("getProperties(): could not read " + filePath)
    }
}



